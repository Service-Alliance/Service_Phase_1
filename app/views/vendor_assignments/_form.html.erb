<div class="col-xs-12">
    <div class="row content-box">
        <%= form_for [@job, @vendor_assignment] do |f| %>
        <% if @vendor_assignment.errors.any? %>
        <div id="error_explanation">
            <h2><%= pluralize(@vendor_assignment.errors.count, "error") %>
                prohibited this vendor_assignment from being saved:</h2>

            <ul>
                <% @vendor_assignment.errors.full_messages.each do |message| %>
                <li><%= message %></li>
                <% end %>
            </ul>
        </div>
        <% end %>
        <div class="col-xs-6 col-xs-offset-3">
            <div class="form-group">
                <label for="vendor_name">Vendor</label><br/>
                <p id="vendor_name"></p>
            </div>
        </div>
        <div class="field">
            <%= f.hidden_field :vendor_id %>
        </div>
        <div class="col-xs-6 col-xs-offset-3">
            <div class="form-group">
                <div class="field">
                    <%= f.label :note %><br>
                    <%= f.text_area :note, class:"form-control" %>
                </div>
            </div>
        </div>
        <div class="col-xs-12 text-center">
            <div class="form-group">
                <div class="actions">
                    <%= f.submit class: "btn btn-primary" %>
                </div>
            </div>
        </div <% end %>
    </div>
</div>
</div>
<div class="col-lg-12">
<div class="panel panel-default">
    <div class="panel-heading">Vendors</div>
    <div class="panel-body table-responsive">
        <table
            class="resp"
            data-toggle="table"
            data-url="/vendors"
            data-show-refresh="true"
            data-show-toggle="true"
            data-show-columns="true"
            data-search="true"
            data-flat="true"
            data-select-item-name="toolbar1"
            data-pagination="true"
            data-sort-name="id"
            data-sort-order="asc">
            <thead>
                <tr>
                    <th data-field="id" data-sortable="true" data-formatter="AddVendor"></th>
                    <th data-field="id" data-sortable="true" data-formatter="LinkFormatter">Vendor ID</th>
                    <th data-field="name" data-sortable="true">Name</th>
                    <th data-field="contact" data-sortable="true">Contact</th>
                    <th data-field="phone" data-sortable="true">Phone</th>
                    <th data-field="cellphone" data-sortable="true">Cellphone</th>
                    <th data-field="fax" data-sortable="true">Fax</th>
                    <th data-field="address" data-sortable="true">Address</th>
                    <th data-field="wc" data-sortable="true">WC</th>
                    <th data-field="liability" data-sortable="true">Liability</th>
                    <th data-field="pollution" data-sortable="true">Pollution</th>
                    <th data-field="auto" data-sortable="true">Auto</th>
                    <th data-field="w9" data-sortable="true">W9</th>
                    <th data-field="independent_contractor_agreement" data-sortable="true">Independent Contractor Agreement</th>
                    <th data-field="email" data-sortable="true">Email</th>
                </tr>
            </thead>
        </table>
    </div>
</div>
</div>


<script>
    function LinkFormatter(value, row, index) {
        return "<a href='/vendors/" + row.id + "'>" + value + "</a>";
    }
    function AddVendor(value, row, index) {
        return "<a class='add-vendor' href='id=" + row.id + "&name=" + row.name + "'><span class='glyphicon glyphicon-plus' aria-hidden='true'></span></a>";
    }
</script>
